---
title: Отладка шаблонов
description: Устранение неполадок в чартах, которые не удаётся развернуть.
sidebar_position: 13
---

Отладка шаблонов может быть сложной, поскольку обработанные шаблоны отправляются на сервер API Kubernetes, который может отклонить YAML-файлы по причинам, не связанным с форматированием.

Несколько команд помогут вам в отладке:

- `helm lint` — ваш главный инструмент для проверки соответствия чарта лучшим практикам.
- `helm template --debug` позволяет протестировать рендеринг шаблонов чарта локально.
- `helm install --dry-run --debug` также рендерит чарт локально без фактической установки, но дополнительно проверяет, не запущены ли уже конфликтующие ресурсы в кластере. При указании `--dry-run=server` также выполняются все функции `lookup` из вашего чарта на сервере.
- `helm get manifest` — хороший способ увидеть, какие шаблоны установлены на сервере.

Когда YAML не удаётся разобрать, но вы хотите увидеть сгенерированный результат, простой способ получить YAML — закомментировать проблемный участок в шаблоне и повторно выполнить `helm install --dry-run --debug`:

```yaml
apiVersion: v2
# some: problem section
# {{ .Values.foo | quote }}
```

Этот код будет обработан и возвращён с сохранёнными комментариями:

```yaml
apiVersion: v2
# some: problem section
#  "bar"
```

Это позволяет быстро просмотреть сгенерированное содержимое, не сталкиваясь с ошибками парсинга YAML.
